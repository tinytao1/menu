<!DOCTYPE html><html><head>
<title>Section1.html</title>
<style> .section-title {font-weight: bold;}
.itembtn {display:inline-block;margin-bottom:3px;min-width:120px;}
.it-display, .section-count { display:inline-block; background: rgb(233, 233, 237); min-width:10px;
  font-family:Arial, sans-serif; text-align:center; border-radius:3px; padding-left:3px; 
  border-bottom:1px solid black; padding-right:3px; padding-top:1px; padding-bottom:1px;}

</style>
</head><body> 
<!-- SECTION1 file HTML -->

<button type='button' onclick='location.reload()' >
  reload</button>

<div id='s1' class='section'>
<p id='' class='section-header'>
  <span class='section-title'>Proteins</span> (choose 2)
  &nbsp; &nbsp; count: <span id='' class='section-count' >
  0 </span>
</p>

<button type='button' class='itembtn' id='s1it1'>
  item1</button>
  
  <span id='s1it1d' class='it-display' >
    0 </span>
  
  <br>
  
<button type='button' class='itembtn' id='s1it2' >
  item2</button>
  
  <span id='s1it2d' class='it-display' >
    0 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it3'>
  item3</button>
  
  <span id='s1it2d' class='it-display' >
    0 </span>
  
  <br>

</div>

<script>
'use strict'




const s1 = {
  name : 'Protein',
  count: 0,
  limit: 2,

  item1 : {
    name : 'Tilapia',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it1'),
  },
  
  item2 : {
    name : 'Pork Chop',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it2'),
  },
  
  item3 : {
    name : 'Chk Brst',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it3'),
  },

};

s1.item1.button.innerHTML = s1.item1.name;
s1.item2.button.innerHTML = s1.item2.name;
s1.item3.button.innerHTML = s1.item3.name;

s1.item1.button.
addEventListener('click', function() {

  select(s1.item1, s1); 
  
} );

s1.item2.button.
addEventListener('click', function() {

  select(s1.item2, s1); 
  
} );

s1.item3.button.
addEventListener('click', function() {

  select(s1.item3, s1); 
  
} );

function select(item, section) {

  if (item.count == item.limit) {

    section.count = (section.count - item.count);
    console.log(section.name + " count: " + section.count);
    
    item.selected = false;
    console.log(item.name + " selected: " + item.selected);
    //item.button.style.color = "none";

    item.count = 0;
    console.log(item.name + " count: " + item.count); 

  } else if (section.count == section.limit) {
  
      section.count = (section.count - item.count);
      console.log(section.name + " count: " + section.count);
      
      item.selected = false;
      console.log(item.name + " selected: " + item.selected);
      //item.button.style.color = "none";
  
      item.count = 0;
      console.log(item.name + " count: " + item.count);
  
      enableAllBtns();
      
  } else {
      
      item.selected = true;
      console.log(item.name + " selected: " + item.selected);
      //item.button.style.color = "red";
      
      item.count++;
      console.log(item.name + " count: " + item.count);
    
      section.count++;
      console.log(section.name + " count: " + section.count);
      
  } if (section.count == section.limit) {

      disableUnselectedBtns();
    
  }
  
}



/*
document.querySelector('#it1').
addEventListener('click', function() { 

  if (s1.item1.count == s1.item1.limit) {

    s1.count = (s1.count - s1.item1.count);
    console.log("S1 count: " + s1.count);
    
    s1.item1.selected = false;
    console.log("Item1 selected: " + s1.item1.selected);
    document.querySelector('#it1').style.color = "black";

    s1.item1.count = 0;
    console.log("Item1 count: " + s1.item1.count); 

  } else if (s1.count == s1.limit) {

    s1.count = (s1.count - s1.item1.count);
    console.log("S1 count: " + s1.count);
    
    s1.item1.selected = false;
    console.log("Item1 selected: " + s1.item1.selected);
    document.querySelector('#it1').style.color = "black";

    s1.item1.count = 0;
    console.log("Item1 count: " + s1.item1.count);

    enableAllBtns();
    
  } else {
  
  s1.item1.selected = true;
  console.log("Item1 selected: " + s1.item1.selected);
  document.querySelector('#it1').style.color = "red";
  
  s1.item1.count++;
  console.log("Item1 count: " + s1.item1.count);

  s1.count++;
  console.log("S1 count: " + s1.count);
  
  } if (s1.count == s1.limit) {

      disableUnselectedBtns();
    
  }
  
} );
*/



function disableUnselectedBtns() {
  
  if (s1.item1.selected == false) {
  
    s1.item1.button.
    disabled = true;
  }

  if (s1.item2.selected == false) {
  
    s1.item2.button.
    disabled = true;
  }
  
  if (s1.item3.selected == false) {
  
    s1.item3.button.
    disabled = true;
  }
}

function enableAllBtns() {

  s1.item1.button.
  disabled = false;
  
  s1.item2.button.
  disabled = false;
  
  s1.item3.button.
  disabled = false;
  
}

// console.log("Section1 limit: " + s1.limit);
//console.log("Item1 count: " + s1.item1.count);























</script>  
</body>  
</html>
