<!DOCTYPE html><html><head>
<title>Section1.html</title>
<style> .section-title {font-weight: bold;}
.itembtn {display:inline-block;margin-bottom:3px;min-width:120px;}
.it-display, .section-count { display:inline-block; background: rgb(233, 233, 237); min-width:10px;
  font-family:Arial, sans-serif; text-align:center; border-radius:3px; padding-left:3px; 
  border-bottom:1px solid black; padding-right:3px; padding-top:1px; padding-bottom:1px;}

</style>
</head><body> 
<!-- SECTION1 file HTML -->

<button type='button' onclick='location.reload()' >
  reload</button>

<div id='s1' class='section'>
<p id='' class='section-header'>
  <span class='section-title'>Proteins</span>
  &nbsp; &nbsp; count: <span id='s1d' class='section-count' >
  0 </span>
  <br>
   (choose 2)
</p>

<button type='button' class='itembtn' id='s1it1'>
  item1</button>
  
  <span id='s1it1d' class='it-display' >
    0 </span>
  
  <br>
  
<button type='button' class='itembtn' id='s1it2' >
  item2</button>
  
  <span id='s1it2d' class='it-display' >
    00 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it3'>
  item3</button>
  
  <span id='s1it3d' class='it-display' >
    000 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it4'>
  item4</button>
  
  <span id='s1it4d' class='it-display' >
    000 0 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it5'>
  item5</button>
  
  <span id='s1it5d' class='it-display' >
    000 00 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it6'>
  item6</button>
  
  <span id='s1it6d' class='it-display' >
    000 000 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it7'>
  item7</button>
  
  <span id='s1it7d' class='it-display' >
    000 000 0 </span>
  
  <br>

<button type='button' class='itembtn'  id='s1it8'>
  item8</button>
  
  <span id='s1it8d' class='it-display' >
    000 000 00 </span>
  
  <br>

</div>

<script>
'use strict'

const s1 = {
  name : 'Protein',
  count: 0,
  limit: 2,
  displayCount : document.querySelector('#s1d'),

  item1 : {
    name : 'Tilapia',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it1'),
    displayCount : document.querySelector('#s1it1d'),
  },
  
  item2 : {
    name : 'Pork Chop',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it2'),
    displayCount : document.querySelector('#s1it2d'),
  },
  
  item3 : {
    name : 'Chicken Breast',
    count : 0,
    limit : null,
    selected : false,
    button : document.querySelector('#s1it3'),
    displayCount : document.querySelector('#s1it3d'),
 },

};



s1.item1.button.innerHTML = s1.item1.name;
s1.item2.button.innerHTML = s1.item2.name;
s1.item3.button.innerHTML = s1.item3.name;
/*
s1.item4.button.innerHTML = s1.item4.name;
s1.item5.button.innerHTML = s1.item5.name;
s1.item6.button.innerHTML = s1.item6.name;

s1.item7.button.innerHTML = s1.item7.name;
s1.item8.button.innerHTML = s1.item8.name;
*/


s1.item1.displayCount.innerHTML = s1.item1.count;
s1.item2.displayCount.innerHTML = s1.item2.count;
s1.item3.displayCount.innerHTML = s1.item3.count;
/*
s1.item4.displayCount.innerHTML = s1.item4.count;
s1.item5.displayCount.innerHTML = s1.item5.count;
s1.item6.displayCount.innerHTML = s1.item6.count;

s1.item7.displayCount.innerHTML = s1.item7.count;
s1.item8.displayCount.innerHTML = s1.item8.count;
*/

s1.displayCount.style.color = "rgb(233, 233, 237)";

s1.item1.displayCount.style.color = "rgb(233, 233, 237)";
s1.item2.displayCount.style.color = "rgb(233, 233, 237)";
s1.item3.displayCount.style.color = "rgb(233, 233, 237)";



s1.item1.button.
addEventListener('click', function() {

  select(s1.item1, s1); 
  
} );

s1.item2.button.
addEventListener('click', function() {

  select(s1.item2, s1); 
  
} );

s1.item3.button.
addEventListener('click', function() {

  select(s1.item3, s1); 
  
} );

function select(item, section) {

  if (item.count == item.limit) {

    section.count = (section.count - item.count);
    section.displayCount.innerHTML = section.count;
    console.log(section.name + " count: " + section.count);

    limitDroppedStyling(section);
    
    item.selected = false;
    console.log(item.name + " selected: " + item.selected);

    item.count = 0;
    item.displayCount.innerHTML = item.count;
    limitDroppedStyling(item);

    item.displayCount.style.color = "rgb(233, 233, 237)";
    console.log(item.name + " count: " + item.count); 

    if (section.count == 0) { section.displayCount.style.color = "rgb(233, 233, 237)"; }

  } else if (section.count == section.limit) {
  
      section.count = (section.count - item.count);
      section.displayCount.innerHTML = section.count;
      limitDroppedStyling(section);

      console.log(section.name + " count: " + section.count);
      
      item.selected = false;
      
      console.log(item.name + " selected: " + item.selected);
  
      item.count = 0;
      item.displayCount.innerHTML = item.count;
      limitDroppedStyling(item);
      
      item.displayCount.style.color = "rgb(233, 233, 237)";
      console.log(item.name + " count: " + item.count);

      if (section.count == 0) { section.displayCount.style.color = "rgb(233, 233, 237)"; }
  
      enableAllBtns();
      
  } else {
      
      item.selected = true;
      console.log(item.name + " selected: " + item.selected);
      
      item.count++;
      item.displayCount.innerHTML = item.count;
      item.displayCount.style.color = "black";

      console.log(item.name + " count: " + item.count);
          
      section.count++;
      section.displayCount.innerHTML = section.count;
      s1.displayCount.style.color = "black";


      console.log(section.name + " count: " + section.count);
      
  } if (section.count == section.limit) {

      limitReachedStyling(section);
      limitReachedStyling(item)
      disableUnselectedBtns();
    
  }
  
}

function limitReachedStyling(section) {
  section.displayCount.style.border = "1px solid red";

}

function limitReachedStyling(item) {
  item.displayCount.style.border = "1px solid red";}

function limitDroppedStyling(section) {
  section.displayCount.style.border = "none";
  section.displayCount.style.borderBottom = "1px solid black";
}

function limitDroppedStyling(item) {
  item.displayCount.style.border = "none";
  item.displayCount.style.borderBottom = "1px solid black";
}


function disableUnselectedBtns() {
  
  if (s1.item1.selected == false) {
  
    s1.item1.button.
    disabled = true;
  } else { //item.displayCount.style.border = "1px solid red";

   }

  if (s1.item2.selected == false) {
  
    s1.item2.button.
    disabled = true;
  }
  
  if (s1.item3.selected == false) {
  
    s1.item3.button.
    disabled = true;
  }
}

function enableAllBtns() {

  s1.item1.button.
  disabled = false;

  
  s1.item2.button.
  disabled = false;
  
  s1.item3.button.
  disabled = false;
  
}

// console.log("Section1 limit: " + s1.limit);
//console.log("Item1 count: " + s1.item1.count);
/*
document.querySelector('#it1').
addEventListener('click', function() { 

  if (s1.item1.count == s1.item1.limit) {

    s1.count = (s1.count - s1.item1.count);
    console.log("S1 count: " + s1.count);
    
    s1.item1.selected = false;
    console.log("Item1 selected: " + s1.item1.selected);
    document.querySelector('#it1').style.color = "black";

    s1.item1.count = 0;
    console.log("Item1 count: " + s1.item1.count); 

  } else if (s1.count == s1.limit) {

    s1.count = (s1.count - s1.item1.count);
    console.log("S1 count: " + s1.count);
    
    s1.item1.selected = false;
    console.log("Item1 selected: " + s1.item1.selected);
    document.querySelector('#it1').style.color = "black";

    s1.item1.count = 0;
    console.log("Item1 count: " + s1.item1.count);

    enableAllBtns();
    
  } else {
  
  s1.item1.selected = true;
  console.log("Item1 selected: " + s1.item1.selected);
  document.querySelector('#it1').style.color = "red";
  
  s1.item1.count++;
  console.log("Item1 count: " + s1.item1.count);

  s1.count++;
  console.log("S1 count: " + s1.count);
  
  } if (s1.count == s1.limit) {

      disableUnselectedBtns();
    
  }
  
} );
*/

</script>  
</body>  
</html>
